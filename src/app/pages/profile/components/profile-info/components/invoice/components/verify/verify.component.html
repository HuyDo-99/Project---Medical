<app-tab-row-menu></app-tab-row-menu>
<div class="container-fluid mt-4">
    <div class="insideShadow w-100 mt-1 " style="height: 70vh; overflow: auto;">
        <h2>Medical invoid</h2>
        <div class="col-12" style="border-bottom: 1px solid">
            <p style="font-weight: bold; color: #808080;">Client's infomation</p>
            <div class="row">
                <div class="col-2">
                    <p>Invoid number:</p>
                </div>
                <div class="col-3">
                    <p>#2865743</p>
                </div>
                <div class="col-2">
                    <p>Bill date:</p>
                </div>
                <div class="col-3">
                    <p>26/02/2020</p>
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    <p>ID number:</p>
                </div>
                <div class="col-3">
                    <p>2865743</p>
                </div>
                <div class="col-2">
                    <p>Start time:</p>
                </div>
                <div class="col-3">
                    <p>26/02/2020</p>
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    <p>Patient's name:</p>
                </div>
                <div class="col-3">
                    <p>Tran Thi Thu</p>
                </div>
                <div class="col-2">
                    <p>Finish time:</p>
                </div>
                <div class="col-3">
                    <p>26/02/2020</p>
                </div>
            </div>
        </div>

        <div class="col-12" style="border-bottom: 1px solid">
            <br>
            <p style="font-weight: bold; color: #808080;">Payment infomation</p>
            <div class="row">
                <div class="col-2">
                    <p>Payer name:</p>
                </div>
                <div class="col-10">
                    <p>Tran Thi Thu</p>
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    <p>Relationship:</p>
                </div>
                <div class="col-10">
                    <p></p>
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    <p>Phone:</p>
                </div>
                <div class="col-10">
                    <p>091235198</p>
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    <p>Address:</p>
                </div>
                <div class="col-10">
                    <p>15/122/13 Truong Dinh, Hoang Mai, Ha Noi</p>
                </div>
            </div>
            <div class="row">
                <div class="col-2">
                    <p>Email:</p>
                </div>
                <div class="col-10">
                    <p>thutran2908@gmail.com</p>
                </div>
            </div>
        </div>

        <div class="col-12">
            <br>
            <p style="font-weight: bold; color: #808080;">Service</p>
            <div class="container-fluid">
                <form novalidate #myForm="ngForm">
                  <div class="kendoTableStyle">
                    <kendo-grid class="table-hover table-borderless " [data]="serviceInvoice">
                    <ng-template kendoGridToolbarTemplate>
                      <!-- <button kendoGridAddCommand class="btn add-button"><mat-icon>add_circle_outline</mat-icon></button> -->
                      <!-- <button class="btn edit-button" ><mat-icon>edit</mat-icon></button> -->
                    </ng-template>
                    <kendo-grid-column  field="ServicepriceId" title="No.">
                        <ng-template kendoGridEditTemplate let-dataItem="dataItem">
                          <input type="text" [(ngModel)]="dataItem.ServicepriceId" name="ServicepriceId" required />
                        </ng-template>
                      </kendo-grid-column>
                    <kendo-grid-column  field="Description" title="Description">
                      <ng-template kendoGridEditTemplate let-dataItem="dataItem">
                        <input type="text" [(ngModel)]="dataItem.Description" name="Description" required />
                      </ng-template>
                    </kendo-grid-column>
                    <kendo-grid-column  field="Quantity" title="Quantity">
                        <ng-template kendoGridEditTemplate let-dataItem="dataItem">
                          <input type="text" [(ngModel)]="dataItem.Quantity" name="Quantity" required />
                        </ng-template>
                      </kendo-grid-column>
                      <kendo-grid-column  field="Cost" title="Unit cost">
                        <ng-template kendoGridEditTemplate let-dataItem="dataItem">
                          <input type="text" [(ngModel)]="dataItem.Cost" name="Cost" required />
                        </ng-template>
                      </kendo-grid-column>
                    <kendo-grid-column field="Tax" title="Tax">
                      <ng-template kendoGridEditTemplate let-dataItem="dataItem">
                        <input type="text" [(ngModel)]="dataItem.Tax" name="Tax" required />
                      </ng-template>
                    </kendo-grid-column>
                    <kendo-grid-column field="Discount" title="Discount">
                      <ng-template kendoGridEditTemplate let-dataItem="dataItem">
                        <input type="text" [(ngModel)]="dataItem.Discount" name="Discount" required />
                      </ng-template>
                    </kendo-grid-column>
                    <kendo-grid-column field="Price" title="Amount"> 
                        <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                            {{dataItem.Price | number:'.'}}  {{dataItem.CurrencyCode}}                          
                          </ng-template>
                        <ng-template kendoGridEditTemplate let-dataItem="dataItem">
                          <input type="text" [(ngModel)]="dataItem.Price" name="Price" required />
                          {{dataItem.CurrencyCode}}
                        </ng-template>
                      </kendo-grid-column>
                    <kendo-grid-command-column title="" width="100" [hidden] = "!isShow">
                      <ng-template kendoGridCellTemplate let-isNew="isNew">
                        <!-- edit the command directive, will be visible when not in edit mode -->
                        <button kendoGridEditCommand class="btn"><mat-icon>done</mat-icon></button>
                        <!-- remove the command directive, will be visible when not in edit mode -->
                        <button kendoGridRemoveCommand class="btn"><mat-icon>delete</mat-icon></button>
                        <!-- save the command directive, will be visible when in edit mode -->
                        <button kendoGridSaveCommand class="btn"><mat-icon>{{ isNew ? 'create' : 'done' }}</mat-icon></button>
                        <!-- cancel the command directive, will be visible when in edit mode -->
                        <button kendoGridCancelCommand class="btn"><mat-icon>{{ isNew ? 'cancel' : 'cancel' }}</mat-icon></button>
                      </ng-template>
                    </kendo-grid-command-column>
                  </kendo-grid>
                  </div>
                </form>   
              </div> 
            <!-- <div class="row" style="margin: 0;">
                <table mat-table matSort [dataSource]="dataSource"
                    class="mat-elevation-z8 table-hover text-center  tableStyle">
                    <ng-container matColumnDef="No.">
                        <th mat-header-cell *matHeaderCellDef>
                            No.
                        </th>
                        <td mat-cell *matCellDef="let item">
                            {{item.No}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Description">
                        <th mat-header-cell *matHeaderCellDef>
                            Description
                        </th>
                        <td mat-cell *matCellDef="let item">
                            {{item.Description}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Quantity">
                        <th mat-header-cell *matHeaderCellDef>
                            Quantity
                        </th>
                        <td mat-cell *matCellDef="let listPosition">

                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Unit cost">
                        <th mat-header-cell *matHeaderCellDef>
                            Unit cost
                        </th>
                        <td mat-cell *matCellDef="let listPosition">

                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Tax">
                        <th mat-header-cell *matHeaderCellDef>
                            Tax
                        </th>
                        <td mat-cell *matCellDef="let listPosition">

                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Discount">
                        <th mat-header-cell *matHeaderCellDef>
                            Discount
                        </th>
                        <td mat-cell *matCellDef="let listPosition">

                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Amount">
                        <th mat-header-cell *matHeaderCellDef>
                            Amount
                        </th>
                        <td mat-cell *matCellDef="let listPosition">

                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumnsServices;"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumnsServices;"></tr>
                </table>
            </div> -->
            <div class="row subtotal mt-3">
                <div class="col-5">
                    <p style="margin-right: 5em; margin-left: 10px;">Subtotal:</p>
                </div>
                <div class="col-7" *ngFor="let item of amountArr">
                    <p>{{item.Count}} <span>VND</span></p>
                </div>
            </div>
        </div>

        <div class="col-12 mt-5">
            <br>
            <p style="font-weight: bold; color: #808080;">Medication</p>
            <div class="container-fluid">
                <form novalidate #myForm="ngForm">
                  <div class="kendoTableStyle">
                    <kendo-grid class="table-hover table-borderless " [data]="MedicationInvoice" (edit)="editHandler($event)"   (add)="addHandler($event, myForm)"
                    (remove)="removeHandler($event)"  (save)="saveHandler($event)"  (cancel)="cancelHandler($event)">
                    <ng-template kendoGridToolbarTemplate>
                      <button kendoGridAddCommand class="btn add-button"><mat-icon style="font-size: 33px;">add_circle_outline</mat-icon></button>
                      <button class="btn edit-button" (click)="showCommand()"><mat-icon>edit</mat-icon></button>
                    </ng-template>
                    <kendo-grid-column  field="DrugChargeId" title="No.">
                        <ng-template kendoGridEditTemplate let-dataItem="dataItem">
                          <input type="text" [(ngModel)]="dataItem.DrugChargeId" name="DrugChargeId" required />
                        </ng-template>
                      </kendo-grid-column>
                    <kendo-grid-column  field="Description" title="Name">
                      <ng-template kendoGridEditTemplate let-dataItem="dataItem">
                        <input type="text" [(ngModel)]="dataItem.Description" name="Name" required />
                      </ng-template>
                    </kendo-grid-column>
                    <kendo-grid-column  field="SKU" title="SKU">
                        <ng-template kendoGridEditTemplate let-dataItem="dataItem">
                          <input type="text" [(ngModel)]="dataItem.SKU" name="SKU" required />
                        </ng-template>
                    </kendo-grid-column>
                    <kendo-grid-column field="Quantity" title="Quantity">
                      <ng-template kendoGridEditTemplate let-dataItem="dataItem">
                        <input type="text" [(ngModel)]="dataItem.Quantity" name="Quantity" required />
                      </ng-template>
                    </kendo-grid-column>
                    <kendo-grid-column field="Cost" title="UnitCost">
                      <ng-template kendoGridEditTemplate let-dataItem="dataItem">
                        <input type="text" [(ngModel)]="dataItem.Cost" name="Cost" required />
                      </ng-template>
                    </kendo-grid-column>
                      <kendo-grid-column field="Tax" title="Tax">
                        <ng-template kendoGridEditTemplate let-dataItem="dataItem">
                          <input type="text" [(ngModel)]="dataItem.Tax" name="Tax" required />
                        </ng-template>
                      </kendo-grid-column> 
                      <kendo-grid-column field="Discount" title="Discount">
                        <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                            {{dataItem.Discount}} %
                          </ng-template>
                        <ng-template kendoGridEditTemplate let-dataItem="dataItem">
                          <input type="text" [(ngModel)]="dataItem.Discount" name="Discount" required />
                        </ng-template>
                      </kendo-grid-column>
                      <kendo-grid-column field="Price" title="Amount">
                        <ng-template kendoGridCellTemplate let-dataItem="dataItem">
                            {{dataItem.Price | number:'.'}} {{dataItem.CurrencyCode}}
                          </ng-template>
                        <ng-template kendoGridEditTemplate let-dataItem="dataItem">
                          <input type="text" [(ngModel)]="dataItem.Price" name="Price" required />
                        </ng-template>
                      </kendo-grid-column>
                    <kendo-grid-command-column title="" width="100" [hidden] = "!isShow">
                      <ng-template kendoGridCellTemplate let-isNew="isNew">
                        <!-- edit the command directive, will be visible when not in edit mode -->
                        <button kendoGridEditCommand class="btn"><mat-icon>done</mat-icon></button>
                        <!-- remove the command directive, will be visible when not in edit mode -->
                        <button kendoGridRemoveCommand class="btn"><mat-icon>delete</mat-icon></button>
                        <!-- save the command directive, will be visible when in edit mode -->
                        <button kendoGridSaveCommand class="btn"><mat-icon>{{ isNew ? 'create' : 'done' }}</mat-icon></button>
                        <!-- cancel the command directive, will be visible when in edit mode -->
                        <button kendoGridCancelCommand class="btn"><mat-icon>{{ isNew ? 'cancel' : 'cancel' }}</mat-icon></button>
                      </ng-template>
                    </kendo-grid-command-column>
                  </kendo-grid>
                  </div>
                </form>   
              </div> 
            <!-- <div class="row" style="margin: 0;">
                <table mat-table matSort [dataSource]="dataSource" class="mat-elevation-z8 table-hover text-center tableStyle">
                    <ng-container matColumnDef="No.">
                        <th mat-header-cell *matHeaderCellDef>
                            No.
                        </th>
                        <td mat-cell *matCellDef="let listPosition">

                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Name">
                        <th mat-header-cell *matHeaderCellDef>
                            Name
                        </th>
                        <td mat-cell *matCellDef="let listPosition">

                        </td>
                    </ng-container>
                    <ng-container matColumnDef="SKU">
                        <th mat-header-cell *matHeaderCellDef>
                            SKU
                        </th>
                        <td mat-cell *matCellDef="let listPosition">

                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Quantity">
                        <th mat-header-cell *matHeaderCellDef>
                            Quantity
                        </th>
                        <td mat-cell *matCellDef="let listPosition">

                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Unit cost">
                        <th mat-header-cell *matHeaderCellDef>
                            Unit cost
                        </th>
                        <td mat-cell *matCellDef="let listPosition">

                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Tax">
                        <th mat-header-cell *matHeaderCellDef>
                            Tax
                        </th>
                        <td mat-cell *matCellDef="let listPosition">

                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Discount">
                        <th mat-header-cell *matHeaderCellDef>
                            Discount
                        </th>
                        <td mat-cell *matCellDef="let listPosition">

                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Amount">
                        <th mat-header-cell *matHeaderCellDef>
                            Amount
                        </th>
                        <td mat-cell *matCellDef="let listPosition">

                        </td>
                    </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumnsMedication;"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumnsMedication;"></tr>
                </table>
            </div> -->
            <div class="mt-3" style="display: flex; flex-direction: column; align-items: flex-end;">
                <div class="row subtotal">
                    <div class="col-5">
                        <p>Subtotal:</p>
                    </div>
                    <div class="col-7" *ngFor="let i of amountArrMedication">
                        <p>{{i.Count}} <span>VND</span></p>
                    </div>
                </div>
                <div class="row discount">
                    <div class="col-5">
                        <p>Discount:</p>
                    </div>
                    <div class="col-7">
                        <p>0%</p>
                    </div>
                </div>
                <div class="row total">
                    <div class="col-5">
                        <p>Total:</p>
                    </div>
                    <div class="col-7" *ngFor="let a of totalArr">
                        <p>{{a.Total}} VND</p>
                    </div>
                </div>
            </div>
         
        </div>
    </div>
    <div class="create">
        <button class="btn" style=" font-size: 20px; color: #8DA2AE;">
            Cancel
        </button>
        <button class="btn" routerLink="/pages/profile/detail/{{patientId}}/account">
            Create
        </button>
    </div>
</div>











