<app-tab-row-menu></app-tab-row-menu>
<!-- <div class="container-fluid outsideShadow mt-4">
    <div class="row" style="height: 76vh;">
        <div class="col-12 mt-5">
            <table mat-table matSort class="mat-elevation-z8 table-hover text-center tableStyle">
                <ng-container matColumnDef="Name">
                    <th mat-header-cell *matHeaderCellDef>
                        Name
                    </th>
                    <td mat-cell *matCellDef="let listMedication">
                     
                    </td>
                </ng-container>
                <ng-container matColumnDef="Dose">
                    <th mat-header-cell *matHeaderCellDef>
                        Dose
                    </th>
                    <td mat-cell *matCellDef="let listMedication">

                    </td>
                </ng-container>
                <ng-container matColumnDef="Frequency">
                    <th mat-header-cell *matHeaderCellDef>
                        Frequency
                    </th>
                    <td mat-cell *matCellDef="let listMedication">

                    </td>
                </ng-container>
                <ng-container matColumnDef="Duration">
                    <th mat-header-cell *matHeaderCellDef>
                        Duration
                    </th>
                    <td mat-cell *matCellDef="let listMedication">

                    </td>
                </ng-container>
                <ng-container matColumnDef="Route">
                    <th mat-header-cell *matHeaderCellDef>
                        Route
                    </th>
                    <td mat-cell *matCellDef="let listMedication">

                    </td>
                </ng-container>
                <ng-container matColumnDef="Detail">
                    <th mat-header-cell *matHeaderCellDef>
                        Detail
                    </th>
                    <td mat-cell *matCellDef="let listMedication">

                    </td>
                </ng-container>
                <ng-container matColumnDef="Purpose">
                    <th mat-header-cell *matHeaderCellDef>
                        Purpose
                    </th>
                    <td mat-cell *matCellDef="let listMedication">

                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </div>
    </div>
    <div class="row justify-content-end button-group">
      <button class="btn">
          <img src="assets/svg/create.svg" alt="">
      </button>
      <button class="btn">
        <img src="assets/svg/pen.svg" alt="">
    </button>
    <button class="btn">
        <img src="assets/svg/print.svg" alt="">
    </button>
    </div>
</div> -->
<!-- 
    
<div class="container-fluid mt-4">
    <div class="kendoTableStyle">
      <kendo-grid class="table-hover table-borderless " #grid
      [data]="allergyPatientList"
      [height]="533"
      (dataStateChange)="onStateChange($event)"
      (cellClick)="cellClickHandler($event)"
      (cellClose)="cellCloseHandler($event)"
      (cancel)="cancelHandler($event)"
      (save)="saveHandler($event)"
      (remove)="removeHandler($event)"
      (add)="addHandler($event)"
      >
      <ng-template kendoGridToolbarTemplate>
        <button kendoGridAddCommand class="btn "><mat-icon>add_circle_outline</mat-icon></button>
        <button class='k-button'  (click)="saveChanges(grid);" class="btn"><mat-icon>save</mat-icon></button>
        <button class='k-button'  (click)="cancelChanges(grid);" class="btn"><mat-icon>cancel</mat-icon></button>
      </ng-template>
      <kendo-grid-column field="Name" title="Name"></kendo-grid-column>
      <kendo-grid-column field="Dose" title="Dose"></kendo-grid-column>
      <kendo-grid-column field="Frequency" title="Frequency"></kendo-grid-column>
      <kendo-grid-column field="Duration"  title="Duration"></kendo-grid-column>
      <kendo-grid-column field="Route" title="Route"></kendo-grid-column>
      <kendo-grid-column field="Detail"  title="Detail"></kendo-grid-column>
      <kendo-grid-column field="Purpose" title="Purpose"></kendo-grid-column>
      <kendo-grid-command-column title="command" width="150">
        <ng-template kendoGridCellTemplate let-isNew="isNew">
            <button kendoGridRemoveCommand class="btn"><mat-icon>delete</mat-icon></button>
            <button kendoGridSaveCommand class="btn"><mat-icon>create</mat-icon></button>
            <button kendoGridCancelCommand class="btn"><mat-icon>cancel</mat-icon></button>
        </ng-template>
      </kendo-grid-command-column>
      </kendo-grid>
    </div> 
</div> -->

<div class="container-fluid mt-4 outsideShadow">
    <form novalidate #myForm="ngForm">
      <div class="kendoTableStyle">
        <kendo-grid class="table-hover table-borderless"  [data]="allergyPatientList" (edit)="editHandler($event)"   (add)="addHandler($event, myForm)"
        (remove)="removeHandler($event)" (save)="saveHandler($event)"  (cancel)="cancelHandler($event)">
        <ng-template kendoGridToolbarTemplate >
          <button kendoGridAddCommand class="btn add-button" id="add-button" hidden><mat-icon>add_circle_outline</mat-icon></button>
        </ng-template>
        <kendo-grid-column field="Name" title="Name">
        <ng-template kendoGridCellTemplate let-dataItem="dataItem">
            <span [hidden]="isShow"><p>{{dataItem.Name}}</p></span>
            <button class="btn btn-edit" (click)="editButton()" [hidden]="!isShow" kendoGridEditCommand>{{dataItem.Name}}</button> 
          </ng-template>
          <ng-template kendoGridEditTemplate let-dataItem="dataItem">
             <select name="allergyId" id="" [(ngModel)]="dataItem.AllergyId" style="border: none; background: none;">
               <option *ngFor="let item of allergyList" [selected]= "item.AllergyId == dataItem.AllergyId"  value="{{item.AllergyId}}">{{item.Name}} </option>
             </select>
          </ng-template>
        </kendo-grid-column>
        <kendo-grid-column field="Dose" title="Dose">
          <ng-template kendoGridCellTemplate let-dataItem="dataItem">
            <span [hidden]="isShow"><p>{{dataItem.Dose}}</p></span>
            <button class="btn btn-edit" (click)="editButton()" [hidden]="!isShow" kendoGridEditCommand>{{dataItem.Dose}}</button> 
          </ng-template>
          <ng-template kendoGridEditTemplate let-dataItem="dataItem">
            <input type="text" [(ngModel)]="dataItem.Dose" name="Dose" required />
          </ng-template>
        </kendo-grid-column>
        <kendo-grid-column field="Frequency" title="Frequency">
          <ng-template kendoGridCellTemplate let-dataItem="dataItem">
            <span [hidden]="isShow"><p>{{dataItem.Frequency}}</p></span>
            <button class="btn btn-edit" (click)="editButton()" [hidden]="!isShow" kendoGridEditCommand>{{dataItem.Frequency}}</button> 
          </ng-template>
          <ng-template kendoGridEditTemplate let-dataItem="dataItem">
            <input type="k-text" [(ngModel)]="dataItem.Frequency" name="Frequency" required />
          </ng-template>
        </kendo-grid-column>
        <kendo-grid-column title="EndDate" width="130" editor>
          <ng-template kendoGridCellTemplate let-dataItem="dataItem">
            <span [hidden]="isShow"><p>{{dataItem.EndDate | date:'dd/MM/yyyy'}}</p></span>
            <button class="btn btn-edit" (click)="editButton()" [hidden]="!isShow" kendoGridEditCommand>{{dataItem.EndDate | date:'dd/MM/yyyy'}}</button> 
          </ng-template>
            <ng-template kendoGridEditTemplate let-dataItem="dataItem">
              <input type="date" [(ngModel)]="dataItem.EndDate" name="EndDate" required />
            </ng-template>
          </kendo-grid-column>
          <kendo-grid-column field="Route" title="Route">
           <ng-template kendoGridCellTemplate let-dataItem="dataItem">
            <span [hidden]="isShow"><p>{{dataItem.Route}}</p></span>
            <button class="btn btn-edit" (click)="editButton()" [hidden]="!isShow" kendoGridEditCommand>{{dataItem.Route}}</button> 
          </ng-template>
            <ng-template kendoGridEditTemplate let-dataItem="dataItem">
              <input type="text" [(ngModel)]="dataItem.Route " name="Route" required />
            </ng-template>
          </kendo-grid-column>
          <kendo-grid-column field="Detail" title="Detail">
            <ng-template kendoGridCellTemplate let-dataItem="dataItem">
              <span [hidden]="isShow"><p>{{dataItem.Detail}}</p></span>
              <button class="btn btn-edit" (click)="editButton()" [hidden]="!isShow" kendoGridEditCommand>{{dataItem.Detail}}</button> 
            </ng-template>
            <ng-template kendoGridEditTemplate let-dataItem="dataItem">
              <input type="text" [(ngModel)]="dataItem.Detail" name="Detail" required />
            </ng-template>
          </kendo-grid-column>
          <kendo-grid-column field="Purpose" title="Purpose" >
           <ng-template kendoGridCellTemplate let-dataItem="dataItem">
              <span [hidden]="isShow"><p>{{dataItem.Purpose}}</p></span>
              <button class="btn btn-edit" (click)="editButton()" [hidden]="!isShow" kendoGridEditCommand>{{dataItem.Purpose}}</button> 
            </ng-template>
            <ng-template kendoGridEditTemplate let-dataItem="dataItem">
              <input type="text" [(ngModel)]="dataItem.Purpose" name="Purpose" required />
            </ng-template>
          </kendo-grid-column>
        <kendo-grid-command-column title="" width="100" [hidden] = "!isShow">
          <ng-template kendoGridCellTemplate let-isNew="isNew">
            <!-- edit the command directive, will be visible when not in edit mode -->
            <button kendoGridEditCommand class="btn" [hidden]="!showButton"><mat-icon>done</mat-icon></button>
            <!-- remove the command directive, will be visible when not in edit mode -->
            <button kendoGridRemoveCommand class="btn"><mat-icon>delete</mat-icon></button>
            <!-- save the command directive, will be visible when in edit mode -->
            <button kendoGridSaveCommand class="btn"><mat-icon>{{ isNew ? 'create' : 'done' }}</mat-icon></button>
            <!-- cancel the command directive, will be visible when in edit mode -->
            <button kendoGridCancelCommand class="btn" id="cancel"><mat-icon>{{ isNew ? 'cancel' : 'cancel' }}</mat-icon></button>
          </ng-template>
        </kendo-grid-command-column>
      </kendo-grid>
      </div>
    </form>   
    <div class="button-group">
      <button class="btn" (click)="clickAdd()" style="margin: 0 20px 0 20px;"><mat-icon>add_circle_outline</mat-icon></button>
      <button class="btn" (click)="editDataTable()" style="margin: 0 20px 0 0;"><mat-icon>edit</mat-icon></button>
      <button class="btn"><mat-icon>print</mat-icon></button>
    </div>
  </div>
 
  
